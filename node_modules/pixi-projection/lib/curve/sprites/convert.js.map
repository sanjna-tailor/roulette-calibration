{"version":3,"file":"convert.js","sources":["../../../src/curve/sprites/convert.ts"],"sourcesContent":["import { Sprite } from '@pixi/sprite';\r\nimport { Container } from '@pixi/display';\r\nimport { Matrix } from '@pixi/math';\r\nimport { Sprite2s } from './Sprite2s';\r\nimport { ProjectionSurface } from '../ProjectionSurface';\r\n\r\nSprite.prototype.convertTo2s = function spriteConvertTo2s()\r\n{\r\n    if (this.proj) return;\r\n    // container\r\n    this.pluginName = 'sprite_bilinear';\r\n    this.aTrans = new Matrix();\r\n    this.calculateVertices = Sprite2s.prototype.calculateVertices;\r\n    this.calculateTrimmedVertices = Sprite2s.prototype.calculateTrimmedVertices;\r\n    this._calculateBounds = Sprite2s.prototype._calculateBounds;\r\n    Container.prototype.convertTo2s.call(this);\r\n};\r\n\r\nContainer.prototype.convertTo2s = function convertTo2s()\r\n{\r\n    if (this.proj) return;\r\n    this.proj = new ProjectionSurface(this.transform);\r\n    Object.defineProperty(this, 'worldTransform', {\r\n        get()\r\n        {\r\n            return this.proj;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n};\r\n\r\nContainer.prototype.convertSubtreeTo2s = function convertSubtreeTo2s()\r\n{\r\n    this.convertTo2s();\r\n    for (let i = 0; i < this.children.length; i++)\r\n    {\r\n        this.children[i].convertSubtreeTo2s();\r\n    }\r\n};\r\n"],"names":["Sprite","Matrix","Sprite2s","Container","ProjectionSurface"],"mappings":";;;;;;;;AAMAA,aAAO,CAAA,SAAA,CAAU,WAAc,GAAA,SAAS,iBACxC,GAAA;AACI,EAAA,IAAI,IAAK,CAAA,IAAA;AAAM,IAAA,OAAA;AAEf,EAAA,IAAA,CAAK,UAAa,GAAA,iBAAA,CAAA;AAClB,EAAK,IAAA,CAAA,MAAA,GAAS,IAAIC,WAAO,EAAA,CAAA;AACzB,EAAK,IAAA,CAAA,iBAAA,GAAoBC,kBAAS,SAAU,CAAA,iBAAA,CAAA;AAC5C,EAAK,IAAA,CAAA,wBAAA,GAA2BA,kBAAS,SAAU,CAAA,wBAAA,CAAA;AACnD,EAAK,IAAA,CAAA,gBAAA,GAAmBA,kBAAS,SAAU,CAAA,gBAAA,CAAA;AAC3C,EAAUC,iBAAA,CAAA,SAAA,CAAU,WAAY,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAC7C,CAAA,CAAA;AAEAA,iBAAU,CAAA,SAAA,CAAU,WAAc,GAAA,SAAS,WAC3C,GAAA;AACI,EAAA,IAAI,IAAK,CAAA,IAAA;AAAM,IAAA,OAAA;AACf,EAAA,IAAA,CAAK,IAAO,GAAA,IAAIC,mCAAkB,CAAA,IAAA,CAAK,SAAS,CAAA,CAAA;AAChD,EAAO,MAAA,CAAA,cAAA,CAAe,MAAM,gBAAkB,EAAA;AAAA,IAC1C,GACA,GAAA;AACI,MAAA,OAAO,IAAK,CAAA,IAAA,CAAA;AAAA,KAChB;AAAA,IACA,UAAY,EAAA,IAAA;AAAA,IACZ,YAAc,EAAA,IAAA;AAAA,GACjB,CAAA,CAAA;AACL,CAAA,CAAA;AAEAD,iBAAU,CAAA,SAAA,CAAU,kBAAqB,GAAA,SAAS,kBAClD,GAAA;AACI,EAAA,IAAA,CAAK,WAAY,EAAA,CAAA;AACjB,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,QAAA,CAAS,QAAQ,CAC1C,EAAA,EAAA;AACI,IAAK,IAAA,CAAA,QAAA,CAAS,CAAC,CAAA,CAAE,kBAAmB,EAAA,CAAA;AAAA,GACxC;AACJ,CAAA;;"}