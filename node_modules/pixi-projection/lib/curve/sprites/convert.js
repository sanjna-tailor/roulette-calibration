'use strict';

var sprite = require('@pixi/sprite');
var display = require('@pixi/display');
var math = require('@pixi/math');
var Sprite2s = require('./Sprite2s.js');
var ProjectionSurface = require('../ProjectionSurface.js');

sprite.Sprite.prototype.convertTo2s = function spriteConvertTo2s() {
  if (this.proj)
    return;
  this.pluginName = "sprite_bilinear";
  this.aTrans = new math.Matrix();
  this.calculateVertices = Sprite2s.Sprite2s.prototype.calculateVertices;
  this.calculateTrimmedVertices = Sprite2s.Sprite2s.prototype.calculateTrimmedVertices;
  this._calculateBounds = Sprite2s.Sprite2s.prototype._calculateBounds;
  display.Container.prototype.convertTo2s.call(this);
};
display.Container.prototype.convertTo2s = function convertTo2s() {
  if (this.proj)
    return;
  this.proj = new ProjectionSurface.ProjectionSurface(this.transform);
  Object.defineProperty(this, "worldTransform", {
    get() {
      return this.proj;
    },
    enumerable: true,
    configurable: true
  });
};
display.Container.prototype.convertSubtreeTo2s = function convertSubtreeTo2s() {
  this.convertTo2s();
  for (let i = 0; i < this.children.length; i++) {
    this.children[i].convertSubtreeTo2s();
  }
};
//# sourceMappingURL=convert.js.map
